**********************************************************
*
*  PROGRAM   INSTALL.SERVER.1
*
*  AUTHOR SFC - MARCH 1997
*
*
* THIS INSTALL PROCESS CREATES ALL THE INDICES FOR THE PRIMAC FILES
* THIS INSTALL PROCESS SHOULD RUN FROM THE PRIMACSQL ACCOUNT
**********************************************************
*COPY>CPYLIB>CHAR
   OPEN '','INSTALL.INDICES' TO INSTALL.INDICES ELSE
      ERRMSG = "CANNOT OPEN INSTALL.INDICES"
      GOSUB 91000
   END
   PROMPT''
10*
   VERBX = "SELECT INSTALL.INDICES"
   PERFORM VERBX RTNLIST IDLIST
20*
   READNEXT ID FROM IDLIST ELSE GOTO 99999
30*
   READ IIREC FROM INSTALL.INDICES,ID ELSE
      ERRMSG = "CANNOT READ ":ID:" FROM INSTALL.INDICES FILE"
      GOSUB 91000
      GOTO 20
   END
   VERBD = ""
   VERBA = ""
   VERBB = ""
   VERBD = "DELETE.INDEX ":ID
   VERBA = "CREATE.INDEX ":ID
   VERBB = "BUILD.INDEX ":ID
   DCNT = DCOUNT(IIREC,AM)
   FOR X = 1 TO DCNT
      VERBD = VERBD: " " : IIREC<X>
      VERBA = VERBA: " " : IIREC<X>
      VERBB = VERBB: " " : IIREC<X>
   NEXT X
   CRT @(0,23):VERBD
   UDTEXECUTE VERBD
   CRT @(0,23):VERBA
   DATA ''
   UDTEXECUTE VERBA
   CRT @(0,23):VERBB
   UDTEXECUTE VERBB
   GOTO 20
91000*
   CRT @(0,23):ERRMSG:CL:
   INPUT REPLY:
   CRT @(0,23):CL:
   RETURN
99999*
   ERRMSG = "COMPLETED BUILDING INDICES"
   GOSUB 91000
END
