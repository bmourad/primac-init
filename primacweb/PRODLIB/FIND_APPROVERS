SUBROUTINE FIND_APPROVERS(CONO,USER,DIV.OWNER,TYPE,LEVEL,ORD.TOT,APP.ARR,XXX,ZZZ,YYY)
********************************************************************************
*   Program name :- FIND_APPROVERS
*   Created:- 10/31/2006
 *  programmer :- Lakshmi Prasanna.E
*------------------------------------------------------------------------------*
*

* In Properties:
* --------------
*  
*
* Out Properties:
* ---------------
*  
********************************************************************************
$INCLUDE WWINSERT RBO.H
$INCLUDE CPYLIB FILE.VARS       
$INCLUDE CPYLIB SYSCOM          
$INCLUDE CPYLIB CHAR            
$INCLUDE POS.CPYLIB APP.REQ
* Insert method code here

CALL CHECK_ACTIVE_STATUS(CONO,USER,DIV.OWNER,RET.FLAG,MAT APP.REQ.REC,APP.REQ.ID,YYY)
  

   ACTIVE = RET.FLAG
   IF APP.PO.LEVEL = LEVEL THEN 
      IF ACTIVE THEN
         IF APP.PO.LIMIT<1,TYPE>  >= ORD.TOT OR APP.PO.LIMIT<1,TYPE>  = "UNLIMITED" THEN
*           APP.ID = CONO:USER:"!":DIV.ACTIVE
            LOCATE APP.REQ.ID IN APP.ARR<1>,1 SETTING POS ELSE
               APP.ARR<1,-1> = APP.REQ.ID
            END
         END
      END
   END ELSE
      NBR.LPS = DCOUNT(APP.PO.ID<1,TYPE>,SVM)
      FOR CC = 1 TO NBR.LPS
         USER = APP.PO.ID<1,TYPE,CC>
          CALL FIND_APPROVERS(CONO,USER,DIV.OWNER,TYPE,LEVEL,ORD.TOT,APP.ARR,XXX,ZZZ,YYY)

      NEXT CC
   END
*

RETURN


* End of method code

