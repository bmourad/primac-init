SUBROUTINE GET_CCTR_OPERATIONS1
********************************************************************************
*   Program name :- GET_CCTR_OPERATIONS1
*   Created:- 9/7/2004
*------------------------------------------------------------------------------*
*

* In Properties:
* --------------
*  
*
* Out Properties:
* ---------------
*  
********************************************************************************
$INCLUDE WWINSERT RBO.H
$INCLUDE PMC.CPYLIB COST.CNTR
$INCLUDE JCS.CPYLIB OPERATION

ERRMSG = ""
* Insert method code here
OPEN '', 'COST.CNTR' TO COST.CNTR ELSE 
	ERRMSG = "COST.CNTR FILE IS MISSING"
	GOTO 93000
END

OPEN '', 'CONTROL' TO CONTROL ELSE 
	ERRMSG = "CONTROL FILE IS MISSING"
	GOTO 93000
END

OPEN '', 'OPERATION' TO OPERATION ELSE 
	ERRMSG = "OPERATION FILE IS MISSING"
	GOTO 93000
END
*STATUS=RBO.getProperty('','PMCProperty',PMCProperty)
STATUS=RBO.getProperty('','Cono',CONO)
STATUS=RBO.getProperty('','ID',ID)
*CONO   = PMCProperty<1,4>

CCTR_OPERS_CODES = ''
CCTR_OPERS_DESCS = ''
COST_CNTR_ARR = ''
COST_CNTR_DESC_ARR = ''
MATREAD CCTR.REC FROM COST.CNTR,CONO:ID  THEN

   CCTR_OPERS_CODES<1,1>=CCTR.OPER
   CNT = DCOUNT(CCTR_OPERS_CODES,@VM)
		FOR I = 1 TO CNT
			 MATREAD OPER.REC FROM OPERATION,CONO:CCTR_OPERS_CODES<1,I> THEN
			       CCTR_OPERS_DESCS<1,1,I>=OPER.DESC

				*OPER_DESCS<1,CTL,I> = CCTR.OPER<1,I>  : "-" : OPER.DESC
			END
		NEXT I
END

  STATUS=RBO.setProperty('','CCTR_OPERS_CODES',CCTR_OPERS_CODES)
  STATUS=RBO.setProperty('','CCTR_OPERS_DESCS',CCTR_OPERS_DESCS)
RETURN
93000*
	STATUS=RBO.setProperty('','ServerStatus',1)
	STATUS=RBO.setProperty('','ServerMessage',ERRMSG)
RETURN


