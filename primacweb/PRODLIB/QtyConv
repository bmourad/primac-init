SUBROUTINE QtyConv
********************************************************************************
*   Program name :- QtyConv
*   Created:- 8/23/2003
*------------------------------------------------------------------------------*
*

* In Properties:
* --------------
*  
*
* Out Properties:
* ---------------
*  
********************************************************************************
$INCLUDE WWINSERT RBO.H
$INCLUDE CPYLIB CHAR
$INCLUDE ICS.CPYLIB INV.CNV
* Insert method code here

*---- SETUP UNIT MEASURE CONVERSION AND DISPLAY
ICR.CNV = "MD0"; ICR.CNV1 = "MD0,"
ICR.DV1 = 1; ICR.MT1 = 1; ICR.DV2 = 1000
ICR.TYPE = 3; ICR.SCAL = 0
*----
ConvertedQty = ""

STATUS=RBO.getProperty('','TEMP_AVAIL',BOL_QTY)
INDX = DCOUNT(BOL_QTY,VM)
  K = 0
  FOR I = 1 TO INDX
    IF BOL_QTY<1,I> > 0 THEN
      K = K + 1
      INDXK <1,-1> = BOL_QTY<1,I> 
    END
  NEXT I

MAMZ =OCONV(BOL_QTY,ICR.CNV1)

PQTY = ""
    FOR R = 1 TO K
	PQTY<1,R> = SUM(INDXK<1,R>)
	ConvertedQty = "M":INT(((PQTY / ICR.DV1 ) * ICR.MT1) / ICR.DV2 + .5 )

******* PQTY = SUM(BOL.QTY<1,LNPTR>)
******* PQTY = INT(((PQTY / ICR.DV1 ) * ICR.MT1) / ICR.DV2 + .5 )
    NEXT R

STATUS=RBO.setProperty('','Test',"K  : ":K : "INDX : ":INDX:" MAMZ : ":MAMZ: " \n ":PQTY:" INDX ":INDX:" ConvertedQty : ":ConvertedQty)
* End of method code
RETURN

