SUBROUTINE CLONE_DETAIL
********************************************************************************
*   Program name :- CLONE_DETAIL
*   Created:- 4/11/2005
*------------------------------------------------------------------------------*
*

* In Properties:
* --------------
*  
*
* Out Properties:
* ---------------
*  
********************************************************************************
$INCLUDE WWINSERT RBO.H
$INCLUDE JCS.CPYLIB CUST.TEMPLATE.LIST
$INCLUDE JCS.CPYLIB SHIPTO.MASTER

* Insert method code here
MESG = ""
  OPEN '','CUST.TEMPLATE.LIST' TO CUST.TEMPLATE.LIST ELSE
      MESG = 'Cannot open CUST.TEMPLATE.LIST file!'
      GOTO 93000
   END
*
STATUS=RBO.getProperty('','ID',ID)

CONO = ID[1,3]
CUST.NO = FIELD(ID,"!",1)[4,99]
SHIPS = ""
CTL_SHIPS_ARR = ""

	CMD = "SELECT CUST.TEMPLATE.LIST WITH @ID LIKE '" : CONO:CUST.NO:"!...!001'"
	UDTEXECUTE CMD CAPTURING X

	EOF = 1
	LOOP
	 	READNEXT ID ELSE EOF = 0
		SHIPS<1,-1> = FIELD(ID,"!",2)
		READV CTL_SHIPS FROM CUST.TEMPLATE.LIST,ID,2 ELSE CTL_SHIPS = ""
		CTL_SHIPS_ARR<1,-1>  = LOWER(CTL_SHIPS)

	WHILE EOF
	REPEAT

STATUS = RBO.setProperty('','SHIPS',SHIPS)
STATUS = RBO.setProperty('','CTL_SHIPS_ARR',CTL_SHIPS_ARR)


RETURN

93000*
   IF MESG # "" THEN
	STATUS = RBO.setProperty('', 'ServerStatus', 1)
   	STATUS = RBO.setProperty('', 'ServerMessage', MESG)
   END
RETURN

