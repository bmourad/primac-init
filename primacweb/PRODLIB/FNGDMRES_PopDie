SUBROUTINE FNGDMRES_PopDie
********************************************************************************
*   Program name :- FNGDMRES_PopDie
*   Created:- 13/05/2003
*   Authoe:- Mohammed Abdul Malik
*------------------------------------------------------------------------------*
*
*
* In Properties:
* --------------
*  
*
* Out Properties:
* ---------------
*  
********************************************************************************
$INCLUDE WWINSERT RBO.H
$INCLUDE JES.CPYLIB ESTIMATE.RL.DIE
$INCLUDE CPYLIB CHAR

ERRMSG=''

IF FILEINFO(ESTIMATE.RES.DIE,0)=0 THEN
  OPEN '','ESTIMATE.RES.DIE' TO ESTIMATE.RES.DIE ELSE
    ERRMSG<1,-1>='ESTIMATE.RES.DIE FILE IS MISSING'
  END
END
IF ERRMSG THEN GOTO 93000
;* get an ID AND PROD NUMBER
STATUS=RBO.getProperty('','ID',INVID)
STATUS=RBO.getProperty('','IOF_DIE',IOF.DIE)
CONO=INVID[1,3]
MAT RLDIE.REC = ""
REPEATMAM = ""
NO_ACROSS = ""
NO_AROUND=""
SZ_ACCROSS=""
SZ_AROUND=""


FOR N = 1 TO DCOUNT(IOF.DIE,@VM)
	MATREAD RLDIE.REC FROM ESTIMATE.RES.DIE, CONO:IOF.DIE<1,N> ELSE
             MAT RLDIE.REC = ""
       END	
	REPEATMAM<1,-1>    = OCONV(RLDIE.REPEAT,"MD4")
	NO_ACROSS<1,-1> = RLDIE.NO.ACROSS
	NO_AROUND<1,-1> =RLDIE.NO.AROUND
       SZ_ACCROSS<1,-1>=OCONV(RLDIE.SZ.ACROSS,"MD4")
       SZ_AROUND<1,-1> = OCONV(RLDIE.SZ.AROUND,"MD4")

NEXT N


STATUS=RBO.setProperty('','RLDIE_REPEAT',REPEATMAM)
STATUS=RBO.setProperty('','RLDIE_NO_ACROSS',NO_ACROSS)
STATUS=RBO.setProperty('','RLDIE_NO_AROUND',NO_AROUND)
STATUS=RBO.setProperty('','RLDIE_SZ_ACCROSS',SZ_ACCROSS)
STATUS=RBO.setProperty('','RLDIE_SZ_AROUND',SZ_AROUND)



                             
GOTO 99999

*************************************************************************
93000 
STATUS = RBO.setProperty('','ServerStatus',1)        
STATUS = RBO.setProperty('','ServerMessage',ERRMSG)  
99999 
                             
                                                                   
                                                   
 



