SUBROUTINE POSOPOM_VaidateCCTR
********************************************************************************
*   Program name :- POSOPOM_VaidateCCTR
*   Created:- 8/31/2007
*------------------------------------------------------------------------------*
*

* In Properties:
* --------------
*  
*
* Out Properties:
* ---------------
*  
********************************************************************************
$INCLUDE WWINSERT RBO.H
$INCLUDE PMC.CPYLIB COST.CNTR
* Insert method code here


STATUS = RBO.getProperty('', 'ID',ID)
   *
CONO = FIELD(ID,"!",1)
CCTR_NO = FIELD(ID,"!",2)

   OPEN '','COST.CNTR' TO COST.CNTR ELSE
      ERRMSG = 'Cannot open COST.CNTR file!'
      GOTO 91000
   END
	  MATREAD CCTR.REC FROM COST.CNTR, CONO:CCTR_NO ELSE
            ERRMSG='COST.CNTR ':CCTR_NO:' IS MISSING'
            GOTO 91000
         END
         IF CCTR.TYPE='F' THEN
            ERRMSG='COST CENTER # ':CCTR_NO:' IS FROZEN'
           GOTO 91000
         END
*
* End of method code
RETURN
91000*
IF ERRMSG # "" THEN
      STATUS = RBO.setProperty('', 'ServerStatus', 1)
      STATUS = RBO.setProperty('', 'ServerMessage', ERRMSG)
   END
RETURN

