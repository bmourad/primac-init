SUBROUTINE chk_Child_ProdType
********************************************************************************
*   Program name :- chkProdType
*   Created:- 7/18/2003
*   Author : Mohammed Abdul Malik
*------------------------------------------------------------------------------*
*Description : Getting the parent PRODUCT NO. and Checking for the 
*a non-ROLL or non-SKID product type on this screen. & The Stocking UOM of 
*the SLIT roll must match the PARENT
* In Properties:
* --------------
*  
*
* Out Properties:
* ---------------
*  
********************************************************************************
$INCLUDE WWINSERT RBO.H
$INCLUDE ICS.CPYLIB INVENTORY
$INCLUDE ICS.CPYLIB CATEGORY
$INCLUDE CPYLIB CHAR
* Insert method code here

  OPEN "","INVENTORY" TO INVENTORY ELSE
    ERRMSG = "CANNOT OPEN INVENTORY FILE"
  END
ERRMSG=''
IF FILEINFO(CATEGORY,0)=0 THEN
  OPEN '','CATEGORY' TO CATEGORY ELSE
    ERRMSG<1,-1>='CATEGORY FILE IS MISSING'
   END
END
INVENTORY.CODES.LIST=""
INVENTORY.ID.LIST = ""
INVENTORY.DESCS.LIST =""
TEMPCOLOR=""
TEMPPAPTYPE=""
STATUS=RBO.getProperty('','PMCProperty',PMCProperty)
STATUS=RBO.getProperty('','SLT_LOG_PROD',SLT_LOG_PROD)
CONO=PMCProperty<1,4>
		MATREAD INV.REC FROM INVENTORY,CONO:SLT_LOG_PROD THEN
		MATREAD CATG.REC FROM CATEGORY,CONO:INV.LINE ELSE MAT CATG.REC=''
         		IF CATG.TRK.LVL#'S' THEN
				MAT INV.REC = ""

				TEMPCOLOR=INV.COLOR
				TEMPPAPTYPE=INV.PAP.TYPE
        		 END
		END
				TEMPCOLOR=INV.COLOR
				TEMPPAPTYPE=INV.PAP.TYPE
	IF INV.COLOR # "" OR INV.PAP.TYPE # "" THEN

		CMD = "SSELECT INVENTORY WITH INV.COLOR='" :TEMPCOLOR :"' AND INV.PAP.TYPE='": TEMPPAPTYPE : "'"
		UDTEXECUTE CMD
N = 1
LOOP
	EOF = 1
	READNEXT INVENTORY.ID ELSE EOF = 0
WHILE EOF DO
		MATREAD INV.REC FROM INVENTORY,INVENTORY.ID THEN
		MATREAD CATG.REC FROM CATEGORY,CONO:INV.LINE ELSE MAT CATG.REC=''
         		IF CATG.TRK.LVL='S' THEN
				INVENTORY.CODES.LIST<1,N> = INVENTORY.ID[4,99]
				INVENTORY.DESCS.LIST<1,N> = INVENTORY.ID[4,99]:"_":INV.FULL.DESC
			N += 1
        		 END
		END
REPEAT

	END

   STATUS = RBO.setProperty('', 'INV_CHILD_PROD_NO', INVENTORY.CODES.LIST)
   STATUS = RBO.setProperty('', 'INV_CHILD_PROD_DESC', INVENTORY.DESCS.LIST)

* End of method code
RETURN

