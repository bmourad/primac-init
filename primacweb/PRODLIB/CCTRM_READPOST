SUBROUTINE CCTRM_READPOST
********************************************************************************
*   Program name :- CCTRM_READPOST
*   Created:- 6/19/2003
*------------------------------------------------------------------------------*
* In Properties:
* --------------
*  CCTR_FOH_PCT,CCTR_OPER_MARKUP,CCTR_OPER_STD_HRS,CCTR_OPER_HR_RATE
*
* Out Properties:
* ---------------
*  CCTR_FOH_PCT,CCTR_OPER_MARKUP,CCTR_OPER_STD_HRS,CCTR_OPER_HR_RATE
********************************************************************************
$INCLUDE WWINSERT RBO.H
$INCLUDE FAS.CPYLIB ASSETS
* Insert method code here
ERRMSG = ''
OPEN '', 'ASSETS' TO ASSETS ELSE
	ERRMSG = 'ASSETS FILE IS MISSING'
	GOTO 99999
END

STATUS = RBO.getProperty('','CCTR_FOH_PCT',CCTR.FOH.PCT)
STATUS = RBO.getProperty('','CCTR_OPER_MARKUP',CCTR.OPER.MARKUP)
STATUS = RBO.getProperty('','CCTR_OPER_STD_HRS',CCTR.OPER.STD.HRS)
STATUS = RBO.getProperty('','CCTR_OPER_HR_RATE',CCTR.OPER.HR.RATE)
STATUS = RBO.getProperty('','CCTR_EQP',CCTR.EQP)
STATUS = RBO.getProperty('','Cono',CONO)

IF CCTR.EQP # "" THEN
	MATREAD AST.REC FROM ASSETS, CONO:CCTR.EQP ELSE
      		AST.DESC = "UNKNOWN"
	END
END ELSE
	AST.DESC = ""
END


*STATUS = RBO.getDBVals('CCTR_FOH_PCT',CCTR.FOH.PCT)
*STATUS = RBO.getDBVals('CCTR_OPER_MARKUP',CCTR.OPER.MARKUP)
*STATUS = RBO.getDBVals('CCTR_OPER_STD_HRS',CCTR.OPER.STD.HRS)
*STATUS = RBO.getDBVals('CCTR_OPER_HR_RATE',CCTR.OPER.HR.RATE)

CNT = DCOUNT(CCTR.FOH.PCT,@VM)
FOR I = 1 TO CNT
	IF (INDEX(CCTR.FOH.PCT<1,I>,".",1) = 0) THEN
		CCTR.FOH.PCT<1,I> = OCONV(CCTR.FOH.PCT<1,I>,"MD2")
	END
NEXT I

CNT = DCOUNT(CCTR.OPER.MARKUP,@VM)
FOR I = 1 TO CNT
	CCTR.OPER.MARKUP<1,I> = OCONV(CCTR.OPER.MARKUP<1,I>,"MD2")
NEXT I

CNT = DCOUNT(CCTR.OPER.STD.HRS,@VM)
FOR I = 1 TO CNT
	CCTR.OPER.STD.HRS<1,I> = OCONV(CCTR.OPER.STD.HRS<1,I>,"MD2")
NEXT I

CNT = DCOUNT(CCTR.OPER.HR.RATE,@VM)
FOR I = 1 TO CNT
	CCTR.OPER.HR.RATE<1,I> = OCONV(CCTR.OPER.HR.RATE<1,I>,"MD2")
NEXT I

STATUS = RBO.setProperty('','CCTR_FOH_PCT',CCTR.FOH.PCT)
STATUS = RBO.setProperty('','CCTR_OPER_MARKUP',CCTR.OPER.MARKUP)
STATUS = RBO.setProperty('','CCTR_OPER_STD_HRS',CCTR.OPER.STD.HRS)
STATUS = RBO.setProperty('','CCTR_OPER_HR_RATE',CCTR.OPER.HR.RATE)
STATUS = RBO.setProperty('','AST_DESC',AST.DESC)

* End of method code
99999
IF ERRMSG # '' THEN
	STATUS = RBO.setProperty('','ServerStatus','1')
	STATUS = RBO.setProperty('','ServerMessage',ERRMSG)
END ELSE
	STATUS = RBO.setProperty('','ServerStatus','')
	STATUS = RBO.setProperty('','ServerMessage','')
END
RETURN
