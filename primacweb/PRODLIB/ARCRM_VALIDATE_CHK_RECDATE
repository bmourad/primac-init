SUBROUTINE ARCRM_VALIDATE_CHK_RECDATE
***************************************************************************
* REVISION    - [e12.0]
* Copyright 1982 by Computer Business Associates (Vercom Software, Inc.)
* SYSTEM    - PRIMAC
* PROGRAM   - ARCRM_VALIDATE_CHK_RECDATE
* AUTHOR    - ABED ALI
* DATE      - 5/2/2003
* Check for the existence of Cono:CUST_NO!REC_DATE!CH_NUM IN CHECK.XREF WHICH HAS ONLY ID ENTRIES
***************************************************************************
* In Properties:
* --------------
* CUST_NO, REC.DATE, CH.NUM,Cono

* Out Properties:
* ---------------
* SAVE.OR.REC - DYNAMIC ARRAY,POPULATED WITH DAILY.CASH AND OPEN.RECV AND CONTROL-001GLTABLE DATA
****************************************************************************
$INCLUDE WWINSERT RBO.H

* Insert method code here
    CHK = ""
    ERR = RBO.getProperty('',"Cono",Cono)
    ERR = RBO.getProperty('',"CUST_NO",CUST_NO)
    ERR = RBO.getProperty('',"CH_NUM",CH_NUM)
    ERR = RBO.getProperty('',"REC_DATE",REC_DATE)
    REC_DATE = ICONV(REC_DATE,"D4/")
    ERR = RBO.setProperty('',"CH_AMT",REC_DATE)

    OPEN '','CHECK.XREF' TO CHECK.XREF ELSE
          MESG = 'Cannot open CHECK.XREF file!'
          STATUS = RBO.setProperty('', 'ServerStatus', 1)
          STATUS = RBO.setProperty('', 'ServerMessage', MESG)
          RETURN
    END  
    REVERSE.FLAG="Y" 
    READ CHK FROM CHECK.XREF,Cono:CUST_NO:"!":REC_DATE:"!":CH_NUM ELSE REVERSE.FLAG="N"    
    IF REVERSE.FLAG="Y" THEN
        MESG = 'This check was previously entered, is this a REVERSE ENTRY!'
        STATUS = RBO.setProperty('','ServerStatus','A')
        STATUS = RBO.setProperty('','ServerMessage',MESG)
    END 
* End of method code
RETURN
