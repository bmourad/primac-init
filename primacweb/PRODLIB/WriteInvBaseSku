SUBROUTINE WriteInvBaseSku
********************************************************************************
*   Program name :- Mohammed Abdul Malik
*   Created:- 7/31/2003
*   This method writes the INV_BASE_SKU
*------------------------------------------------------------------------------*
*
*
* In Properties:          HoldBaseSku new_item INV_BASE_SKU
* --------------
*  
*
* Out Properties:
* ---------------                 
*  
********************************************************************************
$INCLUDE WWINSERT RBO.H
$INCLUDE ICS.CPYLIB INVENTORY

ERRMSG=''

IF FILEINFO(INVENTORY,0)=0 THEN
  OPEN '','INVENTORY' TO INVENTORY ELSE
    ERRMSG<1,-1>='INVENTORY FILE IS MISSING'
  END
END
IF ERRMSG THEN GOTO 93000

;* get ID

STATUS=RBO.getProperty('','ID',ID)
CONO=ID[1,3]

;* get the values from original inventory record.

*STATUS=RBO.getProperty('','INV_CUST',S.CUST)
*STATUS=RBO.getProperty('','INV_LINE',S.LINE)
*STATUS=RBO.getProperty('','INV_SBR',S.SBR)
*STATUS=RBO.getProperty('','INV_COST_WT',S.COST.WT)
*STATUS=RBO.getProperty('','INV_M_WT',S.M.WT)
*STATUS=RBO.getProperty('','INV_BAS_WT',S.BAS.WT)

;* check if new record

STATUS=RBO.getProperty('','new_item',new_item)
IF new_item THEN NEWREC=1
STATUS=RBO.getProperty('','INV_BASE_SKU',SKU)

MATREAD INV.REC FROM INVENTORY,ID THEN
   INV.SUBS<1,-1> = SKU
END
MATWRITE INV.REC ON INVENTORY,ID


                                             
  IF ERRMSG THEN GOTO 93000


GOTO 99999                                          

*******************************************************************************
93000 
STATUS = RBO.setProperty('','ServerStatus',1)        
STATUS = RBO.setProperty('','ServerMessage',ERRMSG)  
99999
RETURN

