SUBROUTINE JCS_GETJOBDISTRIBUTIONDETAILS(CONO, JOBID, ERRMSG, OUT_PARAM_DISTRBUTION,SCHEMA.ONLY)
OUT_PARAM_DISTRBUTION ='<JobDistributionDetails>><BoxCode></BoxCode><BoxDescription></BoxDescription><BoxQuantityMin></BoxQuantityMin><BoxQuantityMax></BoxQuantityMax><BasisWeight></BasisWeight><BoxSize></BoxSize><CustomerID></CustomerID><Format></Format><FormatDescription></FormatDescription><OriginalJobNo></OriginalJobNo><NumberPages></NumberPages><PiecesPerPound></PiecesPerPound><QuantityPerLayer></QuantityPerLayer><SkidQuantityMin></SkidQuantityMin><SkidQuantityMax></SkidQuantityMax><Width></Width></JobDistributionDetails>'
SCHEMA.ONLY = 1
$INCLUDE PMC.CPYLIB COMPANY
$INCLUDE JCS.CPYLIB DRS.JOB.SPEC
$INCLUDE JCS.CPYLIB FORMAT.CODE
$INCLUDE JCS.CPYLIB BOX.CODE
*
* OPEN FILES
*
OPEN '','COMPANY' TO COMPANY ELSE ERRMSG = "CANNOT OPEN COMPANY FILE" ;GOTO 99999
OPEN '','DRS.JOB.SPEC' TO DRS.JOB.SPEC ELSE ERRMSG = "CANNOT OPEN DRS.JOB.SPEC FILE" ;GOTO 99999
OPEN '','FORMAT.CODE' TO FORMAT.CODE ELSE ERRMSG = "CANNOT OPEN FORMAT.CODE FILE" ;GOTO 99999
OPEN '','BOX.CODE' TO BOX.CODE ELSE ERRMSG = "CANNOT OPEN BOX.CODE FILE" ;GOTO 99999
*
* READ THE COMPANY CODE
*
MATREAD COMP.REC FROM COMPANY,CONO ELSE
      ERRMSG=CONO:"- THIS COMPANY NUMBER DOES NOT EXIST"
      GOTO 99999
END
MATREAD DJS.REC FROM DRS.JOB.SPEC, CONO:JOBID THEN
MATREAD BOX.REC FROM BOX.CODE, CONO:DJS.BOX ELSE MAT BOX.REC=''
MATREAD FRM.REC FROM FORMAT.CODE, CONO:DJS.FORMAT ELSE MAT FRM.REC=''
  SCHEMA.ONLY = 0
  OUT_PARAM_DISTRBUTION = '<JobDistributionDetails>'
  OUT_PARAM_DISTRBUTION := '<BoxCode>' : DJS.BOX : '</BoxCode>'
  OUT_PARAM_DISTRBUTION := '<BoxDescription>' : BOX.DESC : '</BoxDescription>'
  OUT_PARAM_DISTRBUTION := '<BoxQuantityMin>' : DJS.BOX.MIN : '</BoxQuantityMin>'
  OUT_PARAM_DISTRBUTION := '<BoxQuantityMax>' : DJS.BOX.MAX : '</BoxQuantityMax>'
  OUT_PARAM_DISTRBUTION := '<BasisWeight>' : DJS.BASIS : '</BasisWeight>'
  OUT_PARAM_DISTRBUTION := '<BoxSize>' : BOX.SIZE : '</BoxSize>'
  OUT_PARAM_DISTRBUTION := '<CustomerID>' : DJS.CUST : '</CustomerID>'
  OUT_PARAM_DISTRBUTION := '<Format>' : DJS.FORMAT : '</Format>'
  OUT_PARAM_DISTRBUTION := '<FormatDescription>' : FRM.DESC : '</FormatDescription>'
  OUT_PARAM_DISTRBUTION := '<OriginalJobNo>' : DJS.TEMPLATE : '</OriginalJobNo>'
  OUT_PARAM_DISTRBUTION := '<NumberPages>' : DJS.NOP : '</NumberPages>'
  OUT_PARAM_DISTRBUTION := '<PiecesPerPound>' : DJS.PPL : '</PiecesPerPound>'
  OUT_PARAM_DISTRBUTION := '<QuantityPerLayer>' : DJS.LAY.QTY : '</QuantityPerLayer>'
  OUT_PARAM_DISTRBUTION := '<SkidQuantityMin>' : DJS.SKD.MIN : '</SkidQuantityMin>'
  OUT_PARAM_DISTRBUTION := '<SkidQuantityMax>' : DJS.SKD.MAX : '</SkidQuantityMax>'
  OUT_PARAM_DISTRBUTION := '<Width>' : DJS.WIDTH : '</Width>'
  OUT_PARAM_DISTRBUTION := '</JobDistributionDetails>' 
END
RETURN
*
*
99999*
 IF ERRMSG <> "" THEN
 ERRMSG = "GetJobDistributionDetails ---> JCS_GETJOBDISTRIBUTIONDETAILS ---> " : ERRMSG
      CALL WRITELOG(ERRMSG)
 END
 RETURN
 END
