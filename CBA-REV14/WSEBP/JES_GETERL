SUBROUTINE JES_GETERL(CONO, JOBID, ERRMSG, OUT_PARAM_ERL,SCHEMA.ONLY)
OUT_PARAM_ERL ='<ERL><DimAround></DimAround><DimAcross></DimAcross><CarWidth></CarWidth><HozSpace></HozSpace><NumLblWide></NumLblWide><LblPerCarton></LblPerCarton><CoreSize></CoreSize><LblPerRoll></LblPerRoll><MaxOD></MaxOD><RollWind></RollWind><PerfEvery></PerfEvery></ERL>'
SCHEMA.ONLY = 1
$INCLUDE PMC.CPYLIB COMPANY
$INCLUDE JES.CPYLIB ESTIMATE.RES
ERRMSG = ''
*
* OPEN FILES
*
OPEN '','COMPANY' TO COMPANY ELSE ERRMSG = "CANNOT OPEN COMPANY FILE" ;GOTO 99999
OPEN '','ESTIMATE.RES' TO ESTIMATE.RES ELSE ERRMSG = "CANNOT OPEN ESTIMATE.RES FILE" ;GOTO 99999
*
* READ THE COMPANY CODE
*
MATREAD COMP.REC FROM COMPANY,CONO ELSE
      ERRMSG=CONO:"- THIS COMPANY NUMBER DOES NOT EXIST"
      GOTO 99999
END
MATREAD EST.RL.REC FROM ESTIMATE.RES, CONO:JOBID THEN
  SCHEMA.ONLY = 0
  OUT_PARAM_ERL = '<ERL>'
  OUT_PARAM_ERL := '<DimAround>' : EST.RL.DIM.AR : '</DimAround>'
  OUT_PARAM_ERL := '<DimAcross>' : EST.RL.DIM.AC : '</DimAcross>'
  OUT_PARAM_ERL := '<CarWidth>' : EST.RL.CARRIER.WIDTH  : '</CarWidth>'
  OUT_PARAM_ERL := '<HozSpace></HozSpace>'
  OUT_PARAM_ERL := '<NumLblWide>': EST.RL.LAB.ACR   :'</NumLblWide>'
  OUT_PARAM_ERL := '<LblPerCarton>' : EST.RL.NO.PER.CARTON  : '</LblPerCarton>'
  OUT_PARAM_ERL := '<CoreSize>': EST.RL.CORE.SIZE  :'</CoreSize>'
  OUT_PARAM_ERL := '<LblPerRoll>': EST.RL.NO.PER.ROLL  :'</LblPerRoll>'
  OUT_PARAM_ERL := '<MaxOD>': EST.RL.MAX.OD  :'</MaxOD>'
  OUT_PARAM_ERL := '<RollWind></RollWind>'
  OUT_PARAM_ERL := '<PerfEvery>': EST.RL.PERF.EVERY :'</PerfEvery>'
  OUT_PARAM_ERL := '</ERL>' 
END 
RETURN
*
*
99999*
 IF ERRMSG <> "" THEN
 ERRMSG = "ERL ---> JES_GETERL---> " : ERRMSG
      CALL WRITELOG(ERRMSG)
 END
 RETURN
 END
