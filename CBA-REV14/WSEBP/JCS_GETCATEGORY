SUBROUTINE JCS_GETCATEGORY(CONO, OUTPUTXML)
$INCLUDE JCS.CPYLIB JOB.CATEGORY
OUTPUTXML = ""
CNT = ''
ERRMSG=""
OPEN '','JOB.CATEGORY' TO JOB.CATEGORY ELSE
  ERRMSG = 'JOB.CATEGORY FILE IS MISSING'
  RETURN
END

*SELLIST = 'SSELECT JOB.CATEGORY WITH @ID LIKE "':CONO:'"...'
*SELLIST = 'SSELECT JOB.CATEGORY WITH @ID LIKE ":CONO:CATG_CODE"'
*SELLIST = 'SSELECT JOB.CATEGORY WITH @ID LIKE "001..."'
SELLIST ="SSELECT JOB.CATEGORY"
UDTEXECUTE SELLIST CAPTURING JUNK
DATA = 1
LOOP
  READNEXT CODE ELSE DATA = 0
WHILE DATA DO     
  MATREAD JCATG.REC FROM JOB.CATEGORY, CODE THEN 
    OUTPUTXML:="<Job_Category>"
    OUTPUTXML := "<Job_Category_ID>" :CODE[4,99]: "</Job_Category_ID>"
    OUTPUTXML :="<Job_Category_Description>": JCATG.DESC : "</Job_Category_Description>"
    OUTPUTXML :="</Job_Category>"
  END
REPEAT
CLEARSELECT
RETURN
END
