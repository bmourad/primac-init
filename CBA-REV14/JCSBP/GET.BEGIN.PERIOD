SUBROUTINE GET.BEGIN.PERIOD (P.BDATE, CONO, ID)
P.BDATE = ""
T.DATES.REC = ""
OPEN "","CONTROL" TO CONTROL ELSE STOP
READU ODATES.REC FROM CONTROL, CONO:'SALESDATES' THEN 
  P.END.DATE = ODATES.REC<1,2>
  O.DATE.CNT = DCOUNT(ODATES.REC,@AM)
  FOR Y = 2 TO O.DATE.CNT
    T.DATES.REC<Y> = ODATES.REC<Y,1>
  NEXT Y
  LOCATE P.END.DATE IN T.DATES.REC,1 BY "AR" SETTING P THEN 
    P.BDATE = T.DATES.REC<P-1> + 1
    P.BDATE = OCONV(P.BDATE,"D2/")
  END
END
RETURN
