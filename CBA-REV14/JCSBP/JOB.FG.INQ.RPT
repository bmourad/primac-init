   SUBROUTINE JOB.FG.INQ.RPT(CONO,CO.NAME,JOB.NUM,HD1,HD2)
*COPY>CPYLIB>COM1
*COPY>JCS.CPYLIB>COM.JCS.LINK
*COPY>ICS.CPYLIB>COM.INV.MAIN  
*COPY>ICS.CPYLIB>COM.INV.SERIAL
*COPY>JCS.CPYLIB>COM.INV.STATS 
*COPY>PMC.CPYLIB>COM.CUST
*COPY>OPS.CPYLIB>COM.ORDER
*COPY>JCS.CPYLIB>COM.JOB.INQ
*********************************************************************
* REVISION    - [08.1]
* Copyright 1982 by Computer Business Associates (Vercom Software, Inc.)
* SYSTEM      - PRIMAC
* SOURCE      - JCSBP
* PROGRAM     - JOB.FG.INQ.RPT
* AUTHOR      - JULIANNE RIVERA, VERCOM SOFTWARE, INC.
* DATE        - 08/04/92
* DESCRIPTION -
*T26334 epitka 12/19/2001 * REV12
*T26493 cmykleb 04/03/2002 * Change pgm to use headings from calling pgm.
*ENDDOC
*********************************************************************
*
*COPY>JCS.CPYLIB>JOB
*COPY>ICS.CPYLIB>INVENTORY
*COPY>OPS.CPYLIB>JOB.FNGD.STATS
*COPY>ICS.CPYLIB>INV.CNV
*COPY>CPYLIB>FILE.VARS
*COPY>CPYLIB>CHAR
*
   DASHES = STR('-',80)
   PNO = 0
   LINE.COUNT = 99
*T26493 v
   HD3 = "JOB # : ":JOB.NUM"L#8":SPACE(50)
   HD3 = HD3:"FINISHED GOODS REPORT"
*T26493 ^
**** PRINT DETAIL LINES AND TOTALS
100 *
   MATREAD JFS.REC FROM JOB.FNGD.STATS, CONO:JOB.NUM ELSE
      MAT JFS.REC = ""
   END
   PROD.CNT = DCOUNT(JFS.PROD,VM)
   FOR D = 1 TO PROD.CNT
      MATREAD INV.REC FROM INVENTORY , CONO:JFS.PROD<1,D> ELSE
         MAT INV.REC = '' ; GOTO 111
      END
*COPY>ICSBP>INV.UM.CNV
      GOSUB 1000
111 *
   NEXT D
   GOTO 99999
**** PRINT DETAIL LINE
1000 *
   IF LINE.COUNT > 45 THEN
      LINE.COUNT = 0 ; GOSUB 9999
   END
   LINE = ''
   LINE = LINE :JFS.PROD<1,D> "L#15":SPACE(1)
   LINE = LINE :JFS.WHSE<1,D> "L#4":SPACE(1)
   LINE:=SPACE(8)
   LINE = LINE :INV.UNIT<1,2>"L#3":SPACE(1)
   LINE = LINE :OCONV(JFS.U.PRICE<1,D>,"MD4")"R#10":SPACE(1)
   LINE = LINE :OCONV(JFS.DATE<1,D>,"D2/")"R#8":SPACE(1)
   LINE = LINE:JFS.ORDER<1,D,1>"L#8":SPACE(1)
   LINE = LINE:OCONV(INT((((JFS.M.QTY<1,D> / ICR.DV1) * ICR.MT1) / ICR.DV2) + .5),ICR.CNV)"R#10":SPACE(1)
   LINE = LINE:OCONV(INT((((JFS.A.QTY<1,D> / ICR.DV1) * ICR.MT1) / ICR.DV2) + .5),ICR.CNV)"R#10":SPACE(1)
   LINE = LINE:OCONV(INT((((JFS.F.QTY<1,D> / ICR.DV1) * ICR.MT1) / ICR.DV2) + .5),ICR.CNV)"R#10":SPACE(1)
   BAL = JFS.M.QTY<1,D> - JFS.F.QTY<1,D> - JFS.S.QTY<1,D>
   IF BAL < 0 THEN BAL = 0
   LINE = LINE:OCONV(INT((((BAL / ICR.DV1) * ICR.MT1) / ICR.DV2) + .5),ICR.CNV)"R#10":SPACE(1)
   PRINT LINE
   LINE = INV.FULL.DESC"L#45":SPACE(8):JFS.ORDER<1,D,2>"L#8"
   PRINT LINE
   LINE.COUNT = LINE.COUNT + 2
   FOR X = 3 TO DCOUNT(JFS.ORDER<1,D>,SVM)
      LINE = SPACE(53):JFS.ORDER<1,D,X>"L#8"
      LINE.COUNT = LINE.COUNT + 1
   NEXT X
   RETURN
**** PRINT HEADING
9999 *
   PRINT CHAR(12)
   PNO = PNO + 1
*T26493 v
*  LINE = SPACE(2) : 'DATE - ' : OCONV(DATE(),"D2/") "L#8"
*  LINE = LINE : SPACE(5) : 'TIME - ' : OCONV(TIME(),"MTS") "L#8"
*  LINE = LINE : SPACE(22) : CO.NAME "L#30"
*  LINE = LINE : SPACE(15) : 'PAGE - ' : PNO "R#3"
*  PRINT LINE
*  PRINT SPACE(45) :'F I N I S H E D   G O O D S   R E P O R T'
*  PRINT SPACE(50) :'         FOR JOB : ':JOB.NUM "L#8"
*  PRINT SPACE(50) :DASHES[1,39]
   PRINT HD1:PNO"R#3"
   PRINT HD2
   PRINT HD3
*T26493 ^
   PRINT
   LINE = 'PRODUCT NUMBER  WHSE  YIELD  U/M UNIT PRICE DUE DATE ORDER #   MANF QTY   ALOC QTY    FIN QTY   BALANCE'
   PRINT LINE
   LINE = "--------------- ---- ------- --- ---------- -------- -------- ---------- ---------- ---------- ----------"
   PRINT LINE
   PRINT
   LINE.COUNT = LINE.COUNT + 7
   RETURN
99999 *
   RETURN
END
